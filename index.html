<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materials E-Shop</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="/assets/icon/themify-icons-font/themify-icons/themify-icons.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
    <div id="main">
        <div id="header">
            <!-- Begin: Nav -->
            <ul id="nav">
                <a href="http://127.0.0.1:5500/">Materials e-shop</a>
            </ul>
            <!-- End: Nav -->
            <!-- Begin: Search button -->
            <div class="search-bth">
                <a href="" class="search-icon ti-shopping-cart"></a>
            </div>
            <!-- End: Search button -->
        </div>

        <!-- Begin: slider -->
        <div id="slider">
            <div class="text-content">
                <h2 class="text-heading">Filter By</h2>
                <div class="paging">
                    <button type='submit' name='submit' class="page-back">&laquo;</button>
                    <button type='submit' name='submit' class="page-link active">1</button>
                    <button type='submit' name='submit' class="page-link">2</button>
                    <button type='submit' name='submit' class="page-link">3</button>
                    <button type='submit' name='submit' class="page-link">4</button>
                    <button type='submit' name='submit' class="page-link">5</button>
                    <button type='submit' name='submit' class="page-next">&raquo;</button>
                  </div>
            </div>
        </div>
        <!-- End: slider -->

        <!-- Begin: content -->
        <div id="content">
           <h3 class="content-heading">Categories</h3>
                <ul class="content-list">
                    <li><a href="#">Baths</a></li>
                    <li><a href="#">Ceiling Works</a></li>
                    <li><a href="#">Doors and Windows</a></li>
                    <li><a href="#">Electrical Works</a></li>
                    <li><a href="#">Painting Works</a></li>
                    <li><a href="#">Pipes and Fitting</a></li>
                    <li><a href="#">Tile Works</a></li>
                    <li><a href="#">Basins</a></li>
                </ul>
            <h3 class="content-heading">Brands</h3>
                <ul class="content-list">
                    <li><a href="#">ARDEX</a></li>
                    <li><a href="#">CertainTeed</a></li>
                    <li><a href="#">Sika Scofield</a></li>
                    <li><a href="#">SpecChem</a></li>
                    <li><a href="#">AMICO</a></li>
                </ul>
                
            <!-- Begin: Product -->
            <div class="item-list">
                <!-- List products -->
            </div>
            <!-- End: Product -->
            
        </div> 
    </div>      
        <!-- End: content -->
    </div>

    <!-- JQuery -->
    <script>
        $(document).ready(function(){
        // Xử lý sự kiện paging
        $('.page-link').click(function(e){
            
            $('.page-link').removeClass('active');
            $(this).addClass('active');
        });

        $('.page-back').click(function(e) {
            var currentPage = $('.paging .active');
            var prevPage = $('.paging .active').prev('.page-link');
            currentPage.removeClass('active');
            prevPage.addClass('active');
        });
        $('.page-next').click(function(e) {
            var currentPage = $('.paging .active');
            var nextPage = currentPage.next('.page-link');
            currentPage.removeClass('active');
            nextPage.addClass('active');
        });
        // Get Products
        var domain = "https://localhost:7088";
        $.get(domain + "/api/Products", function(data){
            $.each(data, function(index, p){
                var newItem = $("<div class='item'></div>");
                
                var newImg = $("<img class='item-img'>");
                var newCaption = $("<p class='item-caption'></p>");
                var newPrice = $("<p class='item-price'></p>");
                var newCartLink = $("<button type='submit' name='submit' class='item-cart'>Add to Cart</button>");

                newImg.attr("src", p.imageUrl);
                newCaption.text(p.name);
                newPrice.text("$" + p.price);

                newItem.append(newImg);
                newItem.append(newCaption);
                newItem.append(newPrice);
                newItem.append(newCartLink);

                $(".item-list").append(newItem);
            });
        });
    });
    </script>
    
</body>

</html>